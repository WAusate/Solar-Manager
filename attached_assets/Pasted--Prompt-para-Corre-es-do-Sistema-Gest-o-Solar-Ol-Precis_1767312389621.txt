# Prompt para CorreÃ§Ãµes do Sistema GestÃ£o Solar

OlÃ¡! Preciso que vocÃª faÃ§a as seguintes correÃ§Ãµes no sistema baseado no PRD e feedback do cliente:

## ğŸ¯ CorreÃ§Ãµes PrioritÃ¡rias

### 1. SEPARAR Menus por Perfil de UsuÃ¡rio

**MENU DO CLIENTE FINAL (role: 'client'):**
```
ğŸ“Š Dashboard
ğŸ“„ RelatÃ³rios
ğŸ”” Alertas
```
- **NÃƒO mostrar** "Painel Admin"
- **NÃƒO mostrar** "ConfiguraÃ§Ãµes"
- Adicionar avatar/nome do usuÃ¡rio no canto com dropdown contendo apenas "Sair"

**MENU DO ADMIN/OPERADOR (role: 'admin'):**
```
ğŸ¢ Painel Admin
ğŸ“„ RelatÃ³rios
ğŸ”” Alertas
âš™ï¸ ConfiguraÃ§Ãµes
```
- Adicionar avatar/nome do usuÃ¡rio no canto com dropdown contendo apenas "Sair"

### 2. IMPLEMENTAR RenderizaÃ§Ã£o Condicional de Menus
- Adicionar campo `role` no sistema de autenticaÃ§Ã£o (valores: 'client' ou 'admin')
- Renderizar menu apropriado baseado no role do usuÃ¡rio logado
- Exemplo de implementaÃ§Ã£o:
```typescript
// Componente de Menu/Sidebar
{user.role === 'client' && (
  <>
    <MenuItem to="/dashboard">Dashboard</MenuItem>
    <MenuItem to="/relatorios">RelatÃ³rios</MenuItem>
    <MenuItem to="/alertas">Alertas</MenuItem>
  </>
)}

{user.role === 'admin' && (
  <>
    <MenuItem to="/painel-admin">Painel Admin</MenuItem>
    <MenuItem to="/relatorios">RelatÃ³rios</MenuItem>
    <MenuItem to="/alertas">Alertas</MenuItem>
    <MenuItem to="/configuracoes">ConfiguraÃ§Ãµes</MenuItem>
  </>
)}
```

### 3. DIFERENCIAR PÃ¡gina de Alertas por Perfil

**Alertas do Cliente:**
- Mostrar APENAS alertas da usina do usuÃ¡rio logado
- NÃƒO permitir aÃ§Ãµes de "marcar como resolvido"
- Apenas visualizaÃ§Ã£o de histÃ³rico
- Manter o layout atual que jÃ¡ existe

**Alertas do Admin:**
- Mostrar alertas de TODAS as usinas
- Incluir informaÃ§Ã£o de qual cliente/usina em cada alerta
- Adicionar filtros por cliente/usina/status
- ADICIONAR aÃ§Ã£o "Marcar como Resolvido" em cada alerta (botÃ£o ou Ã­cone)
- Pode ser um botÃ£o ao lado de cada alerta ou ao clicar no alerta

Exemplo de como pode ficar a aÃ§Ã£o de resolver:
```
[Alerta] Baixa eficiÃªncia detectada no Inversor 01 - JoÃ£o Silva
                                              [Marcar como Resolvido]
```

### 4. PROTEGER Rotas por Perfil

Implementar proteÃ§Ã£o para que:
- Cliente NÃƒO possa acessar `/painel-admin` ou `/configuracoes` mesmo digitando na URL
- Admin possa acessar todas as rotas
- Redirecionar automaticamente se tentar acessar rota nÃ£o autorizada

---

## ğŸ“‹ Checklist de ValidaÃ§Ã£o

ApÃ³s as correÃ§Ãµes, o sistema deve:
- [ ] Cliente NÃƒO vÃª "Painel Admin" nem "ConfiguraÃ§Ãµes" no menu
- [ ] Admin vÃª todas as opÃ§Ãµes do menu (incluindo ConfiguraÃ§Ãµes)
- [ ] RenderizaÃ§Ã£o condicional funciona corretamente baseada no role
- [ ] Alertas do cliente mostram apenas alertas da prÃ³pria usina
- [ ] Alertas do admin mostram todas as usinas com aÃ§Ã£o de resolver
- [ ] ProteÃ§Ã£o de rotas impede cliente de acessar Ã¡reas admin
- [ ] Avatar/dropdown com "Sair" funciona em ambos perfis

---

## ğŸ”§ ObservaÃ§Ãµes TÃ©cnicas

- Mantenha o design atual (estÃ¡ muito bom!)
- Use renderizaÃ§Ã£o condicional com base em `user.role`
- Adicione proteÃ§Ã£o de rotas (route guards)
- Para teste, crie dois usuÃ¡rios mock:
  - `cliente@teste.com` (role: 'client') - deve ver apenas Dashboard, RelatÃ³rios, Alertas
  - `admin@teste.com` (role: 'admin') - deve ver Painel Admin, RelatÃ³rios, Alertas, ConfiguraÃ§Ãµes

---

## âš ï¸ NÃƒO Altere

- Layout e design visual atual
- Funcionalidade do Painel Admin (Central de Monitoramento)
- Sistema de relatÃ³rios
- Dashboard do cliente
- **NÃƒO corrija o erro do botÃ£o ConfiguraÃ§Ãµes agora** (serÃ¡ tratado depois)

---

## ğŸ¯ Foco Principal

O objetivo Ã© garantir que **cliente veja apenas o que precisa** (Dashboard, RelatÃ³rios, Alertas) e **admin tenha acesso completo** ao sistema, com menus e funcionalidades apropriadas para cada perfil.

Implemente essas correÃ§Ãµes mantendo a qualidade visual e funcional que jÃ¡ existe.